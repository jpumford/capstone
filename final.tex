\documentclass[12pt, letterpaper]{article}
\usepackage[utf8]{inputenc}
% math fonts
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{amsmath}

\title{Computability via Recursive Functions}
\author{Justin Pumford  }
\date{March 2020}

\newtheorem{theorem}{Theorem}
\newtheorem{lemma}{Lemma}
\newtheorem*{definition}{Definition}
\newtheoremstyle{case}{}{}{}{}{}{:}{ }{}
\theoremstyle{case}
\newtheorem{case}{Case}

\begin{document}
  \maketitle

  \section{Effective Calcubility and Computability}

  \section{Primitive Recursive Functions}
    \subsection{Functions}
      For this paper, $\mathbb{N}$ refers to the set $\{0, 1, 2, 3, ...\}$

      % zero function MUST accept one argument for further proofs to work
    \begin{definition}
      The following functions from $\mathbb{N} \oplus ... \oplus \mathbb{N}$ to $\mathbb{N}$
      are primitive recursive functions:
      \begin{enumerate}
        \item The unary constant function $c$:
        \begin{equation*}
          c(x) = 0
        \end{equation*}
        \item The unary successor function $s$:
        \begin{equation*}
          s(x) = x + 1
        \end{equation*}
        \item The $n$-ary projection function $p$:
        \begin{equation*}
          \begin{gathered}
            1 \leq i \leq n
            \\
            p_i(x_1, ..., x_n) = x_i
          \end{gathered}
        \end{equation*}
        \item Function composition \\
        Let $f$ be an $n$-ary primitive recursive function and $g_1, g_2, ..., g_n$ all be $m$-ary
        primitive recursive functions. Then the $m$-ary composition $h$ of $f$ and $g_1, g_2, ..., g_n$ given by
        \begin{equation*}
          h(x_1, x_2, ..., x_m) = f(g_1(x_1, x_2, ..., x_m), ..., g_n(x_1, x_2, ..., x_m))
        \end{equation*}
        is a primitive recursive function
        \item Primitive recursion
        Let $g$ be an $n$-ary primitive recursive function and $f$ be an $(n + 2)$-ary primitive recursive
        function. Then the $(n + 1)$-ary primitive recursion $h$ of $f$ and $g$ given by
        \begin{equation*}
          \begin{aligned}
            h(0, x_1, ..., x_n) &= g(x_1, ..., x_n)
            \\
            h(s(x), x_1, ..., x_n) &= f(x, h(x, x_1, ..., x_n), x_1, ..., x_n)
          \end{aligned}
        \end{equation*}
        is a primitive recursive function
      \end{enumerate}
    \end{definition}

  \section{The Ackermann Function}
    % nested loop
    \begin{definition}[The Ackermann Function]
      Let $n, m \in \mathbb{N}$. Then define $A(n, m)$ as follows:
      \begin{equation*}
        \begin{aligned}
          A(n, m) &=
          \begin{cases}
            m + 1                   & n = 0 \\
            A(n - 1, 1)             & n > 0 \wedge m = 0 \\
            A(n - 1, A(n, m - 1))   & n > 0 \wedge m > 0
          \end{cases}
        \end{aligned}
      \end{equation*}
    \end{definition}

    \begin{theorem}
      \label{inN}
      For any $n, m \in \mathbb{N}, A(n, m) \in \mathbb{N}$
    \end{theorem}
    \begin{proof}
      We proceed by double induction. \\
      Clearly $A(0, k) \in \mathbb{N}$ for every $k \in \mathbb{N}$ because $k + 1 \in \mathbb{N}$.
      Now assume $A(k, m) \in \mathbb{N}$ for some $k \in \mathbb{N}$ for every $m \in \mathbb{N}$.
      Then $A(k + 1, 0) = A(k + 1 - 1, 1) = A(k, 1) \in \mathbb{N}$.
      Now assume $A(k + 1, j) \in \mathbb{N}$ for some $j \in \mathbb{N}$.
      Then $A(k + 1, j + 1) = A(k + 1 - 1, A(k + 1, j + 1 - 1)) = A(k, A(k + 1, j))$.
      By our second hypothesis $A(k + 1, j) \in \mathbb{N}$, so by our first hypothesis $A(k, A(k + 1, j)) \in \mathbb{N}$.
      Therefore $A(k + 1, j + 1) \in \mathbb{N}$. Then $A(k + 1, m) \in \mathbb{N}$ for every $m \in \mathbb{N}$, so
      $A(n, m) \in \mathbb{N}$ for all choices of $n, m \in \mathbb{N}$
    \end{proof}

    \begin{theorem}
      $A$ is a total function
    \end{theorem}
    \begin{proof}
      By Theorem \ref{inN}, all $n, m$ in the domain of $A$ have an image $A(n, m) \in \mathbb{N}$.
      Therefore $A$ is a total function.
    \end{proof}

    \begin{theorem}
      \label{x+2=A(1,x)}
      For any $x \in \mathbb{N}$, $A(1, x) = x + 2$
    \end{theorem}
    \begin{proof}
      We proceed by induction. \\
      $A(1, 0) = A(1 - 1, 1) = A(0, 1) = 2 = 0 + 2$. Now assume $A(1, k) = k + 2$ for some $k \in \mathbb{N}$.
      Then $A(1, k + 1) = A(1 - 1, A(1, k + 1 - 1)) = A(0, A(1, k)) = A(0, k + 2) = k + 3 = (k + 1) + 2$.
    \end{proof}

    \begin{lemma}
      \label{m<A(n,m)}
      For every $n, m \in \mathbb{N}$, $m < A(n, m)$
    \end{lemma}
    \begin{proof}
      We proceed by induction.
      Let $m \in \mathbb{N}$.
      $A(0, m) = m + 1 > m$, so $m < A(0, m)$.
      Now assume $m < A(k, m)$ for some $k \in \mathbb{N}$.
      Then $A(k + 1, m) = $
      % TODO!!!!!!!!!!!!!!!!
      Not done with this one yet
    \end{proof}

    \begin{theorem}
      \label{a(n,m)<a(n,s)}
      For any $n, m, s \in \mathbb{N}$ where $m < s$, $A(n, m) < A(n, s)$
    \end{theorem}
    \begin{proof}
      Let $m, s, n \in \mathbb{N}$
      Since $m < s$ and $m, s \in \mathbb{N}$, we have a $d = s - m$ where $d \in \mathbb{Z}^+$.
      We will proceed by induction to first show $A(n, m) < A(n, m + 1)$.
      $A(0, m) = m + 1 < m + 1 + 1 = A(0, m + 1)$.
      Assume $A(k, m) < A(k, m + 1)$ for some $k \in \mathbb{N}$.
      By Lemma \ref{m<A(n,m)}, $A(k + 1, m) < A(k, A(k + 1, m)) = A(k + 1, m + 1)$.
      So $A(k + 1, m) < A(k + 1, m + 1)$.
      Therefore $A(n, m) < A(n, m + 1)$.
      \\
      \\
      Now we use this result to construct a chain of $d$ inequalities $A(n, m) < A(n, m + 1) < A(n, m + 1 + 1) < ... < A(n, m + 1 + 1 + ... + 1)
      = A(n, m + d) = A(n, s)$. 
      % TODO: strong induction proof?
    \end{proof}

    \begin{theorem}
      \label{a(n,m)<a(s,m)}
      For any $n, m, s \in \mathbb{N}$ where $n < s$, $A(n, m) < A(s, m)$
    \end{theorem}
    \begin{proof}
      % TODO!!!!!!!!!!!!!!!!!!!!!
    \end{proof}

    \begin{theorem}
      \label{a(1,m)<=A(n,m+1)}
      For any $n, m \in \mathbb{N}$, $A(1, m) \leq A(n, m + 1)$
    \end{theorem}
    \begin{proof}
      We proceed by induction.
      $A(1, m) = m + 2$ by Theorem \ref{x+2=A(1,x)}.
      $m + 2 = A(0, m + 1)$.
      Now assume $A(1, m) \leq A(k, m + 1)$.
      Then since $A(k, m + 1) < A(k + 1, m + 1)$ by Theorem \ref{a(n,m)<a(s,m)},
      $A(1, m) \leq A(k, m + 1) < A(k + 1, m + 1)$, so
      $A(1, m) < A(k + 1, m + 1)$.
    \end{proof}


    \begin{theorem}
      \label{a(n,m+1)<=a(n+1,m)}
      For any $n, m \in \mathbb{N}$, $A(n, m + 1) \leq A(n + 1, m)$
    \end{theorem}
    \begin{proof}
      We proceed by induction.
      $A(n, 0 + 1) = A(n, 1) = A(n + 1, 0)$ by the definition of the Ackermann function.
      Now assume $A(n, k + 1) \leq A(n + 1, k)$ for some $k \in \mathbb{N}$.
      Note that $k + 2 = A(1, k)$ by Theorem \ref{x+2=A(1,x)}.
      Then $A(n, k + 1 + 1) = A(n, k + 2) = A(n, A(1, k))$.
      By Theorem \ref{a(1,m)<=A(n,m+1)}, $A(1, k) \leq A(n, k + 1)$.
      By Theorem \ref{a(n,m)<a(n,s)}, $A(n, A(1, k)) \leq A(n, A(n, k + 1))$.
      By our inductive hypothesis and Theorem \ref{a(n,m)<a(n,s)},
      $A(n, A(n, k + 1)) \leq A(n, A(n + 1, k))$.
      And finally by the definition of the Ackermann function,
      $A(n, A(n + 1, k)) = A(n + 1, k + 1)$.
      So $A(n, k + 1 + 1) \leq A(n + 1, k + 1)$.
    \end{proof}

    \begin{theorem}
      \label{plus2}
      For any $n, m, s \in \mathbb{N}$, $A(n, A(s, m)) < A(n + s + 2, m)$
    \end{theorem}
    \begin{proof}
      $A(n, A(s, m)) < A(n + s, A(s, m))$ by Theorem \ref{a(n,m)<a(s,m)}.
      $A(n + s, A(s, m)) < A(n + s, A(s + n + 1, m))$ by Theorem \ref{a(n,m)<a(n,s)} since, by Theorem \ref{a(n,m)<a(s,m)},
      $A(s, m) < A(s + n + 1, m)$.
      $A(n + s, A(s + n + 1, m)) = A(n + s, A(n + s + 1, m)) = A(n + s + 1, m + 1)$ by the definition of the Ackermann function.
      Finally, $A(n + s + 1, m + 1) \leq A(n + s + 1 + 1, m) = A(n + s + 2, m)$ by Theorem \ref{a(n,m+1)<=a(n+1,m)}.
    \end{proof}
    
    \begin{definition}
      Let $P$ be a set all primitive recursive functions $f$ so that if $f \in P$, there is a $t \in \mathbb{N}$
      such that for any $x_1, ..., x_n \in \mathbb{N}$, $f(x_1, ..., x_n) < A(t, max\{x_1, ..., x_n\})$.
    \end{definition}

    \begin{theorem}
      $c(x)$, $s(x)$, $p_i(x_1, x_2, ..., x_n) \in P$
    \end{theorem}
    \begin{proof}
      Let $m = max\{x_1, ..., x_n\}$.
      Then
      \begin{equation*}
        \begin{aligned}
          c(x) = 0 < x + 1 &= A(0, x) \\
          s(x) = x + 1 < x + 2 &= A(1, x) \\
          p_i(x_1, x_2, ..., x_n) = x_i \leq m < m + 1 &= A(0, m) \\
        \end{aligned}
      \end{equation*}
    \end{proof}

    \begin{theorem}
      $P$ is closed under composition
    \end{theorem}
    \begin{proof}
      Let $f, g_1, g_2, ..., g_k \in P$, where $f$ is $k$-ary and each $g_i$ is $j$-ary.
      Let $x_1, x_2, ..., x_j \in \mathbb{N}$.
      Let $m = max\{x_1, x_2, ..., x_j\}$.
      Let $h$ be the $j$-ary primitive recursive function that results from function composition of $f$ with $g_1, g_2, ..., g_k$.
      Let $g_{max}$ be the $g_i$ giving the maximum value in $max\{g_1(x_1, ..., x_j), ..., g_k(x_1, ..., x_j)\}$.
      Let $m_g = g_{max}(x_1, ..., x_j)$
      Since $g_{max} \in P$, there exists some $t_g \in \mathbb{N}$ so that $m_g < A(t_g, m)$.
      Similarly since $f \in P$, there exists some $t_f \in \mathbb{N}$ so that $h(x_1, ..., x_j) = f(g_1(x_1, ..., x_j), ..., g_k(x_1, ..., x_j)) < A(t_f, m_g)$.
      But since $m_g < A(t_g, m)$, by Theorem \ref{a(n,m)<a(n,s)} $A(t_f, m_g) < A(t_f, A(t_g, m))$.
      By Theorem \ref{plus2}, $A(t_f, A(t_g, m)) < A(t_f + t_g + 2, m)$.
      Let $t = t_f + t_g + 2 \in \mathbb{N}$.
      Then $h(x_1, .., x_j) < A(t, m)$.
      So $h \in P$.
    \end{proof}

    \begin{lemma}
      \label{recursionlemma}
      Let $h$ be the primitive recursion of two functions $f, g \in P$.
      Let $x_1, ..., x_n \in \mathbb{N}$.
      Let $m = max\{x_1, ..., x_n\}$.
      Then there exists a $t \in \mathbb{N}$ such that for every $x \in \mathbb{N}
      h(x, x_1, ..., x_n) < A(t, x + m)$.
    \end{lemma}
    \begin{proof}
      Since $f, g \in P$, there exist $t_f$ and $t_g$ so that for every $x \in \mathbb{N}$, 
      $f(x, h(x, x_1, ..., x_n), x_1, ..., x_n) < A(t_f, max\{x, h(x, x_1, ..., x_n), x_1, ..., x_n\})$ and
      $g(x_1, ..., x_n) < A(t_g, max\{x_1, ..., x_n\})$.
      Choose $t = $
      We proceed by induction.
      % TODO!!!!!!!!!!!!!!!!!!!!!!!!
      % TODO: set t before choosing xs
      oh man I have no idea where to continue on this one
      $h(0, x_1, ..., x_n) = g(x_1, ..., x_n) < $
    \end{proof}

    \begin{theorem}
      $P$ is closed under primitive recursion
    \end{theorem}
    \begin{proof}
      Let $f, g \in P$ and $h$ be the primitive recursion of $f$ and $g$.
      Let $x, x_1, ..., x_n \in \mathbb{N}$.
      Let $m = max\{x_1, ..., x_n\}$.
      Then by Lemma \ref{recursionlemma}, there is a $t \in \mathbb{N}$ so that
      $h(x, x_1, ..., x_n) < A(t, x + m)$.
      Let $m' = max\{x, x_1, ..., x_n\} = max\{x, m\}$.
      Since $x + m \leq m'$, $A(t, x + m) \leq A(t, 2m')$ by Lemma \ref{a(n,m)<a(n,s)}.
      Since $2m' < 2m' + 3$, $A(t, 2m') < A(t, 2m' + 3)$ also by Lemma \ref{a(n,m)<a(n,s)}.

      % TODO: prove the following
      By Lemma ?, $2m' + 3 = A(2, m')$, so $A(t, 2m' + 3) = A(t, A(2, m'))$.
      By Theorem \ref{plus2}, $A(t, A(2, m')) = A(t + 2 + 2, m') = A(t + 4, m')$.
      So $h(x, x_1, ..., x_n) < A(t + 4, m')$.

      Therefore $h \in P$.
    \end{proof}

    \begin{theorem}
      $P$ is precisely the primitive recursive functions
    \end{theorem}
    \begin{proof}
      All $f \in P$ are primitive recursive by the definition of $P$.
      So it remains to show all primitive recursive functions are in $P$.
      Let $f$ be a primitive recursive function.
      Then $f$ can be created by applying function composition and primitive recursion to the constant, successor, and
      projection functions. The constant, successor, and projection functions are all in $P$, and $P$ is closed under
      function composition and primitive recursion. Therefore $f \in P$.
    \end{proof}

    \begin{theorem}
      $A(m, n)$ is not a primitive recursive function
    \end{theorem}
    \begin{proof}
      Suppose that $A$ is a primitive recursive function. Then $A \in P$. Then there exists a $t \in \mathbb{N}$
      so that for any $n, m \in \mathbb{N}$, $A(n, m) < A(t, max\{n, m\})$.
      Set $m = n = t$. Then $max\{n, m\} = n = m = t$. So $A(n, m) = A(t, t) < A(t, t)$ which is a contradition.
      Therefore $A$ is not primitive recursive.
    \end{proof}


  \section{General Recursive Functions}
    \subsection{Partial Functions}
    \subsection{Definition of General Recursive Functions}
    \begin{definition}[Minimization]
      Let $f: \mathbb{N}^n \rightarrow \mathbb{N}$ be an $n$-ary partial function. Then the minimization operator $\mu$
      creates a $(n - 1)$-ary function $\mu(f)$ given by
      \begin{equation*}
        \begin{aligned}
          \mu(f)(x_1, ..., x_n) &=
          \begin{cases}
            z                       & f(z, x_1, ..., x_n) = 0 \wedge f(i, x_1, ..., x_n) > 0 \forall i \in \mathbb{N} \cap [0, z) \\
            undefined               & f(i, x_1, ..., x_n) \neq 0 \forall i \in \mathbb{N}
          \end{cases}
        \end{aligned}
      \end{equation*}
    \end{definition}
    \begin{definition}
      A function $f$ is a general recursive function if it is either:
      \begin{enumerate}
        \item A primitive recursive function
        \item A general recursive function under the minimization operator
      \end{enumerate}
    \end{definition}

\end{document}